
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>revigo.py - apply semantic clustering to GO output &mdash; CGAT  documentation</title>
    
    <link rel="stylesheet" href="../_static/cgat.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sorttable.js"></script>
    <script type="text/javascript" src="../_static/jquery.min.js"></script>
    <script type="text/javascript" src="../_static/jquery.dataTables.min.js"></script>
    <link rel="top" title="CGAT  documentation" href="../index.html" />
    <link rel="up" title="Scripts" href="../scripts.html" />
    <link rel="next" title="cgat_ruffus_profile.py - analyze ruffus logfile" href="cgat_ruffus_profile.html" />
    <link rel="prev" title="cgat_rebuild_extensions.py - rebuild all cython extensions" href="cgat_rebuild_extensions.html" />
   <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
        $('.scrollable').dataTable({
              "sScrollY":"200px",
               "sScrollX":"100%",
               "bAutoWidth":false,
               "bPaginate":false });
     });
    </script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cgat_ruffus_profile.html" title="cgat_ruffus_profile.py - analyze ruffus logfile"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cgat_rebuild_extensions.html" title="cgat_rebuild_extensions.py - rebuild all cython extensions"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CGAT  documentation</a> &raquo;</li>
          <li><a href="../scripts.html" accesskey="U">Scripts</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-revigo"></span><div class="section" id="revigo-py-apply-semantic-clustering-to-go-output">
<h1>revigo.py - apply semantic clustering to GO output<a class="headerlink" href="#revigo-py-apply-semantic-clustering-to-go-output" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Andreas Heger</td>
</tr>
<tr class="field-even field"><th class="field-name">Release:</th><td class="field-body">$Id$</td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">April 02, 2014</td>
</tr>
<tr class="field-even field"><th class="field-name">Tags:</th><td class="field-body">Python</td>
</tr>
</tbody>
</table>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>apply semantic clustering ala revigo (<a href="#id1"><span class="problematic" id="id2">:pmid:`21789182`</span></a>, <a class="reference external" href="http://revigo.irb.hr">http://revigo.irb.hr</a>)
to a list of significantly enriched or depleted GO terms.</p>
<p>This script can be used to reduce the redundancy in large lists of
GO results. The principal input is list of GO-terms and associated
P-Values.</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>python revigo.py
</pre></div>
</div>
<p>Type:</p>
<div class="highlight-python"><div class="highlight"><pre>python revigo.py --help
</pre></div>
</div>
<p>for command line help.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>In addition to a list of GO terms and their associated p-values
(&#8211;filename-pvalues)</p>
<p>Additional input files required are:</p>
<ul class="simple">
<li>a file containing a gene ontology in obo-xml format (&#8211;filename-ontology)</li>
<li>a file mapping gene identifiers to GO terms (&#8211;filename-go)</li>
</ul>
<p>The script will compute a matrix of semantic similarities between GO
terms based on the <tt class="docutils literal"><span class="pre">simrel</span></tt> measure described in the manuscript by
Schlicker et al. (2006) (pmid:<cite>16776819</cite>).</p>
<p>The script will then remove redundant terms from this matrix following
the produce described in the revigo manuscript (<a href="#id3"><span class="problematic" id="id4">:pmid:`21789182`</span></a>).</p>
<p>The script will output a file called <cite>cluster.tsv</cite> which contains the
clustering results.</p>
<p>It will also output an image in <a class="reference internal" href="../glossary.html#term-svg"><em class="xref std std-term">svg</em></a> format of the clustered
terms and their similarity in semantic space. Nodes are coloured by
fold change and size is given by the P-Value.</p>
<div class="section" id="additional-output-files">
<h3>Additional output files<a class="headerlink" href="#additional-output-files" title="Permalink to this headline">¶</a></h3>
<p>Computing the similarity matrix can take same time. The script outputs
some intermediate files that will be re-used on subsequent calls in
order to speed up processing. The intermediate files are:</p>
<blockquote>
<div><ul class="simple">
<li>ancestors.tsv: tab-separated file with all the ancestors of a term</li>
<li>termfrequencies.tsv: tab-separated file with all the term
frequencies and genes with this term</li>
<li>simrel.matrix: the full simrel matrix. This matrix is symmetric.</li>
<li>cluster.matrix: the clustered simrel matrix. Only the cluster
representatives have been kept.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="quality-control">
<h3>Quality control<a class="headerlink" href="#quality-control" title="Permalink to this headline">¶</a></h3>
<p>The output of this program is similar but not identical to revigo. The
algorithm is not fully described and the input data are not
identical. It seems that simrel values in this script are lower and
thus the clustering is more conservative compared to revigo.</p>
</div>
</div>
<div class="section" id="command-line-options">
<h2>Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h2>
<p>This module depends on unreleased code from
<a class="reference external" href="http://code.google.com/p/gographer">http://code.google.com/p/gographer</a> for parsing of the GO graph. The
code has been modified to allow parsing of relationship information
and record synonyms and obsolete identifiers. The code has been
included into this script until gographer will be released.</p>
</div>
</div>
<div class="highlight-text"><div class="highlight"><pre>Usage: revigo.py [options]

Options:
  --version             show program&#39;s version number and exit
  -h, --help            show this help message and exit
  --no-usage            output help without usage information
  -o FILENAME_OBO, --filename-ontology=FILENAME_OBO
                        filename with ontology information in obo-xml format.
                        The latest version can always be retrieved at `wget
                        http://archive.geneontology.org/latest-termdb
                        /go_daily-termdb.obo-xml.gz`. [default=go_daily-termdb
                        .obo-xml.gz].
  -g FILENAME_GO, --filename-go=FILENAME_GO
                        filename with gene to go assignments  This is a tab-
                        separated file with the columns &lt;namespace&gt; &lt;gene_id&gt;
                        &lt;goid&gt; &lt;description&gt; &lt;evidence&gt;. The evidence column
                        is currently ignored.  [default=go.tsv.gz].
  -p FILENAME_PVALUES, --filename-pvalues=FILENAME_PVALUES
                        filename with pvalues for each GO term  This is a tab-
                        separated file with the columns &lt;goid&gt; &lt;pvalue&gt;. If a
                        third column is present it will be interpreted as
                        fold-change.  [default=none].
  --ontology=ONTOLOGY   ontologies to analyze. Ontologies are tested
                        separately. &#39;all&#39; will test all ontologies.
                        [default=[]].
  --max-similarity=MAX_SIMREL_THRESHOLD
                        cluster until simrel threshold is achieved
                        [default=0.7].
  --min-clusters=MIN_CLUSTERS_THRESHOLD
                        cluster only until at most # clusters remain
                        [default=0].
  --palette=PALETTE     colour palette [default=RdBu]
  --reverse-palette     reverse colour palette [default=False].
  -v LOGLEVEL, --verbose=LOGLEVEL
                        loglevel [1]. The higher, the more output.
  --timeit=TIMEIT_FILE  store timeing information in file [none].
  --timeit-name=TIMEIT_NAME
                        name in timing file for this class of jobs [all].
  --timeit-header       add header for timing information [none].
  --random-seed=RANDOM_SEED
                        random seed to initialize number generator with
                        [none].
  -P OUTPUT_FILENAME_PATTERN, --output-filename-pattern=OUTPUT_FILENAME_PATTERN
                        OUTPUT filename pattern for various methods [%s].
  -F, --force           force over-writing of existing files.
  -I FILE, --stdin=FILE
                        file to read stdin from [default = stdin].
  -L FILE, --log=FILE   file with logging information [default = stdout].
  -E FILE, --error=FILE
                        file with error information [default = stderr].
  -S FILE, --stdout=FILE
                        file where output is to go [default = stdout].
</pre></div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/cgat_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">revigo.py - apply semantic clustering to GO output</a><ul>
<li><a class="reference internal" href="#purpose">Purpose</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#additional-output-files">Additional output files</a></li>
<li><a class="reference internal" href="#quality-control">Quality control</a></li>
</ul>
</li>
<li><a class="reference internal" href="#command-line-options">Command line options</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="cgat_rebuild_extensions.html"
                        title="previous chapter">cgat_rebuild_extensions.py - rebuild all cython extensions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cgat_ruffus_profile.html"
                        title="next chapter">cgat_ruffus_profile.py - analyze ruffus logfile</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/scripts/revigo.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cgat_ruffus_profile.html" title="cgat_ruffus_profile.py - analyze ruffus logfile"
             >next</a> |</li>
        <li class="right" >
          <a href="cgat_rebuild_extensions.html" title="cgat_rebuild_extensions.py - rebuild all cython extensions"
             >previous</a> |</li>
        <li><a href="../index.html">CGAT  documentation</a> &raquo;</li>
          <li><a href="../scripts.html" >Scripts</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011, Andreas Heger.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>