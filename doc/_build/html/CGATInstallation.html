
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation instructions &mdash; CGAT  documentation</title>
    
    <link rel="stylesheet" href="_static/cgat.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/sorttable.js"></script>
    <script type="text/javascript" src="_static/jquery.min.js"></script>
    <script type="text/javascript" src="_static/jquery.dataTables.min.js"></script>
    <link rel="top" title="CGAT  documentation" href="index.html" />
   <script type="text/javascript" charset="utf-8">
        $(document).ready(function() {
        $('.scrollable').dataTable({
              "sScrollY":"200px",
               "sScrollX":"100%",
               "bAutoWidth":false,
               "bPaginate":false });
     });
    </script>
     

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">CGAT  documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation-instructions">
<span id="cgatinstallation"></span><h1>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<p>The section below describes how to install the CGAT scripts. Please
note that we can not test our code on all systems and configurations
out there. If something does not work, please try a <a class="reference internal" href="#cgatcleaninstall"><em>CGAT Code Clean Installation</em></a>
or download a copy of the <a class="reference internal" href="CGATInstallationVirtualBoxUbuntu.html#cgatinstallationvirtualboxubuntu"><em>CGAT Virtual Machine</em></a> with all the software installed.</p>
<div class="section" id="quick-installation">
<h2>Quick installation<a class="headerlink" href="#quick-installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pre-install-dependencies">
<h3>Pre-install dependencies<a class="headerlink" href="#pre-install-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Installing CGAT can be straight-forward if all its dependencies are satisfied:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install cgat
</pre></div>
</div>
<p>However, CGAT depends on numerous other python packages which themselves might require
manual intervention. Please see <a class="reference internal" href="#manualinstallation"><em>Manual installation</em></a> for a
step-by-step installation approach.</p>
</div>
<div class="section" id="initialization">
<h3>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h3>
<p>In order to run pipelines and code directly from the CGAT script
repository, you need to perform the following initializations:</p>
<div class="highlight-python"><div class="highlight"><pre>python setup.py develop --multi-version
</pre></div>
</div>
<p>This will compile all the extension modules without installing
anything. To use, add the CGAT directory to <tt class="docutils literal"><span class="pre">$PYTHONPATH</span></tt>
environment variable:</p>
<div class="highlight-python"><div class="highlight"><pre>export PYTHONPATH=$PYTHONPATH:/location/to/cgat
</pre></div>
</div>
<p>You might also want to run the script:</p>
<div class="highlight-python"><div class="highlight"><pre>python scripts/cgat_build_extensions.py
</pre></div>
</div>
<p>to test if all the scripts with associated <a class="reference external" href="http://cython.org/">cython</a> code compile
cleanly.</p>
</div>
</div>
<div class="section" id="manual-installation">
<span id="manualinstallation"></span><h2>Manual installation<a class="headerlink" href="#manual-installation" title="Permalink to this headline">¶</a></h2>
<p>The CGAT installation requires setuptools version 1.1 or higher
to be installed. If your system has no setuptools installed, or
an old version, please install <a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a> first by:</p>
<div class="highlight-python"><div class="highlight"><pre>wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py -O - | python
</pre></div>
</div>
<p>CGAT depends on numerous other python packages not all of which
might install cleanly. Here, we give some more detailed instructions.
Generally we recommend when troubleshooting CGAT installation to do so
within a virtual environment. To create a clean environment, type:</p>
<div class="highlight-python"><div class="highlight"><pre>virtualenv --no-site-packages cgat-python
source cgat-python/bin/activate
</pre></div>
</div>
<p>Now, download the list of required packages:</p>
<div class="highlight-python"><div class="highlight"><pre>wget https://raw.github.com/CGATOxford/cgat/master/requires.txt
</pre></div>
</div>
<p>To install the required basic packages:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install -r requires.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The order in which packages are installed matters. The order
in <tt class="file docutils literal"><span class="pre">requires.txt</span></tt> should work, but pip might ignore that. To
install requirements in order, try the following:</p>
<div class="last highlight-python"><div class="highlight"><pre>while read line ; do echo $line &gt; x ; pip install -r x; rm x; done &lt; requires.txt
</pre></div>
</div>
</div>
<p>If all of that works, installing the CGAT tools should now be
straight-forward:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install cgat
</pre></div>
</div>
<p>If you continue having problems with the installation please try the
<a class="reference internal" href="#cgatcleaninstall"><em>CGAT Code Clean Installation</em></a> guide or download a copy of the
<a class="reference internal" href="CGATInstallationVirtualBoxUbuntu.html#cgatinstallationvirtualboxubuntu"><em>CGAT Virtual Machine</em></a> with all the software installed.</p>
<div class="section" id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h3>
<p>Some packages will require additional system-level packages to
be installed. The following depencies might cause problems:</p>
<dl class="docutils">
<dt>PyGreSQL</dt>
<dd>requires postgres-devel</dd>
<dt>PyGTK</dt>
<dd>not installable via <a class="reference external" href="https://pypi.python.org/pypi/setuptools">setuptools</a>, install separately.</dd>
<dt><a class="reference external" href="http://biopython.org/">biopython</a></dt>
<dd>pip occasionally fails for <a class="reference external" href="http://biopython.org/">biopython</a>. If so, try installing
manually.</dd>
</dl>
</div>
</div>
<div class="section" id="cgat-code-clean-installation">
<span id="cgatcleaninstall"></span><h2>CGAT Code Clean Installation<a class="headerlink" href="#cgat-code-clean-installation" title="Permalink to this headline">¶</a></h2>
<p>In this section you will find detailed information on how to install the CGAT
Code Collection and all its dependencies inside a newly created environment.</p>
<p>Installation instructions for the following operating systems are available:</p>
<ul class="simple">
<li><a class="reference internal" href="CGATInstallationOSX.html#cgatinstallationosx"><em>OS X installation</em></a></li>
<li><a class="reference internal" href="CGATInstallationSL6.html#cgatinstallationsl6"><em>Scientific Linux 6.X Installation</em></a></li>
<li><a class="reference internal" href="CGATInstallationUbuntu.html#cgatinstallationubuntu"><em>Ubuntu 12.04 LTS Installation</em></a></li>
</ul>
<p>Furthermore, we also provide a <a class="reference internal" href="CGATInstallationVirtualBoxUbuntu.html#cgatinstallationvirtualboxubuntu"><em>CGAT Virtual Machine</em></a>.</p>
</div>
<div class="section" id="installing-in-galaxy">
<span id="galaxyinstallation"></span><h2>Installing in Galaxy<a class="headerlink" href="#installing-in-galaxy" title="Permalink to this headline">¶</a></h2>
<p>CGAT tools can be used through the <a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a> framework. In order
to set up the CGAT tool box in you own <a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a> instance, use the
<tt class="file docutils literal"><span class="pre">cgat2rdf.py</span></tt> script.</p>
<p>The sequence of commands is:</p>
<ol class="arabic">
<li><p class="first">Install Galaxy</p>
</li>
<li><p class="first">Install CGAT</p>
</li>
<li><p class="first">Run the <cite>cgat2rdf.py</cite> script (see <a class="reference internal" href="scripts/cgat2rdf.html"><em>cgat2rdf.py - create rdf description of CGAT script</em></a>) to create an xml file for inclusion into
<a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a>. For example, to create a wrapper for <cite>bam2stats.py</cite> (see <a class="reference internal" href="scripts/bam2stats.html"><em>bam2stats.py - compute stats from a bam-file</em></a>), run,
where <tt class="docutils literal"><span class="pre">cgat-xml</span></tt> is the location of tool xml files within <a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>python &lt;cgat-scripts&gt;cgat2rdf.py --format=galaxy &lt;cgat-scripts&gt;bam2stats.py &gt; &lt;cgat-xml&gt;bam2stats.xml
</pre></div>
</div>
</li>
<li><p class="first">Add an entry to <tt class="file docutils literal"><span class="pre">tool_conf.xml</span></tt> for the script within the
<a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a> distribution:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;section name=&quot;CGAT Tools&quot; id=&quot;cgat_tools&quot;&gt;
    &lt;tool file=&quot;&lt;cgat-xml&gt;/bam2stats.xml&quot; /&gt;
&lt;/section&gt;
</pre></div>
</div>
</li>
</ol>
<p>A list of galaxy compatible scripts is in file <tt class="file docutils literal"><span class="pre">galaxy.list</span></tt>. This file is part of the
CGAT repository and can be used to create all wrappers in one go:</p>
<div class="highlight-python"><div class="highlight"><pre>cat galaxy.list
| cgat2rdf.py
     --source-dir=&lt;cgat-scripts&gt;  --input-regex=&quot;(.*).py&quot;
     --output-pattern=&lt;galaxy-xml&gt;/%s.xml --format=galaxy
</pre></div>
</div>
<p>Within <a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a>, CGAT scripts will use <a class="reference external" href="http://samtools.sourceforge.net/">samtools</a> formatted genomic
sequences, which are located in the <tt class="docutils literal"><span class="pre">sam_fa_indexes</span></tt> <a class="reference external" href="https://main.g2.bx.psu.edu/">galaxy</a> resource.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cgat_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation instructions</a><ul>
<li><a class="reference internal" href="#quick-installation">Quick installation</a><ul>
<li><a class="reference internal" href="#pre-install-dependencies">Pre-install dependencies</a></li>
<li><a class="reference internal" href="#initialization">Initialization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#manual-installation">Manual installation</a><ul>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cgat-code-clean-installation">CGAT Code Clean Installation</a></li>
<li><a class="reference internal" href="#installing-in-galaxy">Installing in Galaxy</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/CGATInstallation.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="index.html">CGAT  documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011, Andreas Heger.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3a0.
    </div>
  </body>
</html>